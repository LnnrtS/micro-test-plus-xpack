cflags = -O -I../../include -std=c++11 -W -Wall -Werror
ldflags = 

rule cppCompiler
  depfile = $out.d
  command = g++ $cflags -MD -MF $out.d -c $in -o $out

rule cppLinker
  command = g++ $ldflags $in -o $out

build unit-test.cpp.o: cppCompiler ../unit-test.cpp

build micro-test-plus.cpp.o: cppCompiler ../../src/micro-test-plus.cpp

build unit-test: cppLinker unit-test.cpp.o micro-test-plus.cpp.o

build sample-test.cpp.o: cppCompiler ../sample-test.cpp

build sample-test: cppLinker sample-test.cpp.o micro-test-plus.cpp.o

default unit-test sample-test
